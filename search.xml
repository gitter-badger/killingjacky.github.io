<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Work around for macOS Mail.app eating high CPU]]></title>
    <url>%2F2017%2F03%2F09%2Fwork-around-for-macos-mail-app-eating-high-cpu%2F</url>
    <content type="text"><![CDATA[The work around is based on a software named monit. Letâ€™s see what monit do. Monit is a small Open Source utility for managing and monitoring Unix systems. Monit conducts automatic maintenance and repair and can execute meaningful causal actions in error situations. Step-by-stepI. Install monit Download monit here for 64bits macOS https://mmonit.com/monit/dist/binary/5.21.0/monit-5.21.0-macos-x64.tar.gz Extract the archive, you will get file like this: Copy files into their locations sudo cp -f bin/monit /usr/local/bin sudo chmod a+x /usr/local/bin/monit sudo cp -f conf/monitrc /usr/loca/etc sudo cp -rf man/man1/monit.1 /usr/local/share/man/man1 Test your installation monit --version II. Configure monit Add the following lines into /usr/loca/etc/monitrc 123456check process Mail matching "/Applications/Mail.app/Contents/MacOS/Mail" start program = "/usr/bin/open -a /Applications/Mail.app" stop program = "/usr/bin/pkill -9 Mail" if cpu &gt; 80% for 2 cycles then alert if cpu &gt; 100% for 2 cycles then restart III. Configure the startup script for LaunchDaemonLaunchDaemon is the startup manager for macOS, and the startup items for LaunchDaemon can be started when system boot up before user login. Itâ€™s system level. sudo vim /Library/LaunchDaemons/com.tildeslash.monit.plist Parse the following lines into that plist file 12345678910111213141516&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;&lt;plist version="1.0"&gt;&lt;dict&gt; &lt;key&gt;Label&lt;/key&gt; &lt;string&gt;com.tildeslash.monit&lt;/string&gt; &lt;key&gt;ProcessType&lt;/key&gt; &lt;string&gt;Adaptive&lt;/string&gt; &lt;key&gt;Disabled&lt;/key&gt; &lt;false/&gt; &lt;key&gt;RunAtLoad&lt;/key&gt; &lt;true/&gt; &lt;key&gt;LaunchOnlyOnce&lt;/key&gt; &lt;false/&gt; &lt;key&gt;ProgramArguments&lt;/key&gt; &lt;array&gt; &lt;string&gt;/usr/local/bin/monit&lt;/string&gt; &lt;string&gt;-I&lt;/string&gt; &lt;/array&gt;&lt;/dict&gt;&lt;/plist&gt; Now load monit sudo launchctl load -w /Library/LaunchDaemons/com.tildeslash.monit.plist Final test The monit daemon should be running now, test its status using command: sudo monit status, if everything was done right, you should see the diagnosis information of the Mail process. Besides, monit serves a http server at address http://localhost:2812 IV. Sum upThe basic idea of this workaround is to monitor the CPU usage of process Mail, if itâ€™s eating over 100% CPU for more than 1 minute, monit will restart it. Monit will check the status of Mail every 30 seconds (the default configuration), and it prints logs into the system log, you can access the log with system applicaton Console/æŽ§åˆ¶å°, e.g. To investigate if your Mail.app lose its mind for the last few days, open Console application and search monit. If any entry out there, bla bla 1000 words for the excellent Mail.app!!! Also, you can check the uptime of Mail.app in the web page of monit with default user/password - admin/monit.]]></content>
      <tags>
        <tag>tech</tag>
        <tag>mac</tag>
        <tag>Mail.app</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DIY an iRobot Roomba Compatible Virtual Wall]]></title>
    <url>%2F2016%2F11%2F25%2Fdiy-an-irobot-roomba-virtual-wall%2F</url>
    <content type="text"><![CDATA[I need more virtual walls for my iRobot Roomba 650, and I find that itâ€™s not too complicated to make that. So I did some electronic monitoring and software tinkering, then I successfully made several ones - working good. The IR protocolHereâ€™s my research, maybe different from some old discussions (maybe theyâ€™re for series 4000 or newer 5), but this protocol is proved to be working for 650. Letâ€™s struct the IR signal from small to big. The smallest unit is a 38KHz PWM with 50% duty Then the PWM continues for 500us, call this A Then A * 3, period 8ms, call this 3 pulses B Then B repeats every 150msâ€¦ The hardware stm32L011 - Ultra low power MCU ETA6003 - battery charging ETA3410 - battery voltage to 3.3V regular TSAL6200 - emitter Battery 1000mAh Avg current consumption is around 1mA, the battery is expected to power this little device for 1 month at least. The softwareNot open sourceðŸ˜œ The enclosure3D printed, have no time to laser cut a coverâ€¦ Images and video]]></content>
      <tags>
        <tag>tech</tag>
        <tag>irobot</tag>
        <tag>roomba</tag>
        <tag>virtual wall</tag>
        <tag>irobot create</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SyncY in Synology NAS | åœ¨ç¾¤æ™–ä¸­ä½¿ç”¨SyncYåŒæ­¥ç™¾åº¦äº‘]]></title>
    <url>%2F2016%2F11%2F25%2Fsyncy-in-synology-nas%2F</url>
    <content type="text"><![CDATA[1 å®‰è£…Dockerå¥—ä»¶å¥—ä»¶ä¸­å¿ƒå®‰è£…ï¼Œç•¥ã€‚ 2 ä¸‹è½½syncyé•œåƒæ‰¾å¼€Dockerå¥—ä»¶ï¼Œæ³¨å†Œè¡¨ä¸­æœç´¢syncyï¼Œå¾—åˆ°ç»“æžœ chiunownow/syncy ï¼ŒåŒå‡»ä¸‹è½½ã€‚å¦‚æžœæŠ¥é”™ï¼Œè¯·è½¬å…¥å‘½ä»¤è¡Œä¸‹è½½ï¼Œsshç™»å…¥åŽè¿è¡Œ docker pull chiunownow/syncy ç½‘é€Ÿæ…¢çš„å¾—ç­‰å¾…ä¸€ä¼šå„¿äº†ï¼ˆå…¶å®žæ˜¯å¾ˆä¹…å¾ˆä¹…å¾ˆä¹…ã€‚ã€‚ã€‚ï¼‰ ä»€ä¹ˆï¼Ÿä¸çŸ¥é“æ€Žä¹ˆç™»å…¥sshï¼Ÿè¯·çœ‹ä¸‹ä¸€æ­¥ 3 ä½¿èƒ½sshå¹¶ç™»å…¥æŽ§åˆ¶é¢æ¿ -&gt; ç»ˆç«¯æœºå’ŒSNMP -&gt; å‹¾é€‰å¯åŠ¨SSHåŠŸèƒ½ ä½¿ç”¨è‡ªå·±ç†Ÿæ‚‰çš„ç»ˆç«¯ç™»å…¥sshï¼ˆæ¯”å¦‚windowsä¸‹çš„puttyï¼Œmac/linuxä¸‹çš„terminalï¼Œå¤ªåŸºç¡€ä¸ä¼šçš„è‡ªå·±åº¦å¨˜è°·ç‹—å§ï¼‰ ssh root@your-nas-address å¯†ç ä¸ºåˆå»ºç®¡ç†å‘˜å¯†ç ã€‚ 4 Syncyé…ç½®ä»¥ä¸‹éƒ½æ˜¯åœ¨sshä¸­ã€‚ docker run --name sss -it chiunownow/syncy /bin/bash çŽ°åœ¨è¿›å…¥äº†å®¹å™¨å‘½ä»¤è¡Œï¼Œè¿è¡Œ /usr/bin/syncy.py ä¼šå¾—åˆ°è¿™æ ·çš„æ‰“å° 1234567Device binding Guide: 1. Open web browser to visit:&quot;https://openapi.baidu.com/device&quot; and input user code to binding your baidu account. 2. User code: xxxxxx (User code valid for 30 minutes.) 3. After granting access to the application, come back here and press [Enter] to continue. ä¸€é€šå¤åˆ¶ç²˜è´´ç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚ã€‚ã€‚ã€‚ã€‚æœ€åŽctrl+Cç»“æŸã€‚ è¿™æ—¶å®Œæˆçš„äº‹æƒ…æ˜¯æ‹¿åˆ°äº†ç™¾åº¦äº‘çš„tokenï¼ŒåŒæ—¶å†™å…¥äº†é…ç½®æ–‡ä»¶/etc/config/syncy æˆ‘ä»¬è¦æŠŠè¿™ä¸ªé…ç½®æ–‡ä»¶æžå‡ºæ¥ cat /etc/config/syncy å¤åˆ¶ã€‚ç„¶åŽé€€å‡ºdocker exit åœ¨DSMç³»ç»Ÿä¸­æ‰¾ä¸€ä¸ªä½ç½®å­˜æ”¾é…ç½®æ–‡ä»¶ï¼Œ mkdir -p /volume1/docker/syncy cd /volume1/docker/syncy cat &gt; syncy-photo ç²˜è´´ï¼Œctrl+dä¿å­˜ã€‚ è¿™ä¸ªé»˜è®¤çš„é…ç½®ä¼šæŠŠæ–‡ä»¶åŒæ­¥åˆ°ç™¾åº¦äº‘çš„â€œæˆ‘çš„åº”ç”¨æ•°æ®/SyncY/Syncy-dockerç›®å½•ä¸‹ï¼Œå¦‚æžœæƒ³åŒæ­¥åˆ°å¦å¤–çš„ç›®å½•ï¼Œæˆ–SyncYå¤šå¼€ï¼Œå¯ä»¥æ‰¾åˆ°option remotepath &#39;/Syncy-docker&#39;ä¿®æ”¹æˆæƒ³è¦çš„ç›®å½•åã€‚ æœ€åŽåˆ é™¤ä¸´æ—¶å®¹å™¨ docker rm sss å‘Šåˆ«å‘½ä»¤è¡Œå›žåˆ°DSMçš„å›¾å½¢ç•Œé¢ã€‚ 5 åˆ›å»ºSyncyå®¹å™¨æ‰“å¼€Dockerå¥—ä»¶ï¼Œåœ¨â€æ˜ åƒâ€œä¸­é€‰æ‹©â€chiunownow/syncyâ€œï¼Œâ€å¯åŠ¨â€ï¼Œâ€é€šè¿‡å‘å¯¼å¯åŠ¨â€ å®¹å™¨åç§° ä¸‹ä¸€æ­¥ï¼Œé«˜çº§è®¾ç½®ï¼Œå·ï¼Œæ·»åŠ æ–‡ä»¶ æ·»åŠ æ–‡ä»¶å¤¹ æ³¨æ„çº¢æ¡†å†…çš„è£…è½½è·¯å¾„å¿…é¡»è¿™æ ·å¡« FIX: /etc/config/syncy åªè¯»å±žæ€§åŽ»æŽ‰ â€œçŽ¯å¢ƒâ€ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œsh /usr/bin/syncyd.sh æœ€åŽæ˜¯è¿™æ ·å­çš„ å¯åŠ¨å®¹å™¨ æˆåŠŸè¿è¡Œ ï¼ï¼æ³¨æ„ï¼ï¼é»˜è®¤çš„é…ç½®æ˜¯1å°æ—¶åŒæ­¥ä¸€æ¬¡ï¼Œè¿™ç§æ…¢æ‰«é€‚åˆåŒæ­¥ç…§ç‰‡ç­‰ä¸ç´§æ€¥å¤‡ä»½ä»»åŠ¡ï¼Œæˆ–æ–‡ä»¶æ•°é‡å·¨å¤§çš„ç›®å½•(äº‘ä¸Žæœ¬åœ°ç›®å½•çš„æ¯”å¯¹æˆæœ¬å¾ˆé«˜)ï¼Œæƒ³è¦ç«‹å³åŒæ­¥ï¼Œå¯é‡å¯å®¹å™¨ã€‚ å¯è‡ªè¡Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„syncintervalæé«˜åŒæ­¥æ‰«æé¢‘çŽ‡ï¼Œæ¯”å¦‚ä»Žç™¾åº¦äº‘æŽ¨é€æ–‡ä»¶å›žNASï¼Œå¯è®¾1åˆ†é’Ÿæˆ–æ›´å°ï¼Œä½†åˆ‡è®°æ–‡ä»¶æ•°ä¸è¦å¤ªå¤šï¼Œè¿™ç§å¿«æ‰«ä¼šæ¶ˆè€—è¾ƒå¤šçš„CPUèµ„æºã€‚ å¦å¤–ï¼ŒsyncyåŽŸä½œè€…é’ˆå¯¹é…ç½®é¡¹å†™äº†è¯¦å°½æ–‡æ¡£ï¼Œhttp://www.syncy.cn/index.php/syncyconfighelp/ ï¼Œ æ‡‚çš„è‡ªå·±æŠ˜è…¾å§ 6 å¤šå¼€/åŒæ­¥å¤šä¸ªç›®å½•é‡å¤4ï¼Œ5æ­¥ ðŸ˜Ž é…ç½®é¡¹è§£é‡Š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182# synctype:[0-4]# [0,upload]:åªæ£€æŸ¥æœ¬åœ°æ–‡ä»¶å¹¶ä¸Šä¼ ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œå¿½ç•¥è¿œç«¯çš„æ‰€æœ‰ä¿®æ”¹æˆ–åˆ é™¤ï¼Œè¿œç«¯åˆ é™¤çš„ä¹Ÿä¸å†ä¸Šä¼ # [1,upload+]:è¿œç«¯æ˜¯æœ¬åœ°çš„å®Œå…¨é•œåƒï¼Œå¿½ç•¥è¿œç«¯çš„ä¿®æ”¹ï¼Œè¿œç«¯åˆ é™¤çš„æ–‡ä»¶åœ¨ä¸‹ä¸€æ¬¡åŒæ­¥æ—¶å°†ä¸Šä¼ ï¼Œè¿œç«¯æ–°å¢žçš„æ–‡ä»¶å¦‚æžœæœ¬åœ°ä¸å­˜åœ¨ï¼Œå°†ä¸åšä»»ä½•å˜åŒ–# [2,download]:åªæ£€æŸ¥è¿œç«¯æ–‡ä»¶æ˜¯å¦ä¿®æ”¹ï¼Œå¦‚æœ‰ä¿®æ”¹ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¿½ç•¥æœ¬åœ°çš„ä¿®æ”¹ï¼›å¦‚æœ¬åœ°æ–‡ä»¶è¢«åˆ é™¤ï¼Œå°†ä¸å†ä¸‹è½½# [3,download+]:æ£€æŸ¥è¿œç«¯å’Œæœ¬åœ°æ–‡ä»¶ï¼Œå¦‚è¿œç«¯æœ‰ä¿®æ”¹ï¼Œä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¿½ç•¥æœ¬åœ°çš„ä¿®æ”¹ï¼›å¦‚æœ¬åœ°æœ‰æ–‡ä»¶è¢«åˆ é™¤ï¼Œå°†é‡æ–°ä¸‹è½½# [4,sync]:åŒæ—¶æ£€æŸ¥è¿œç«¯å’Œæœ¬åœ°æ–‡ä»¶ï¼Œå¦‚åªæœ‰è¿œç«¯è¢«ä¿®æ”¹ï¼Œåˆ™ä¸‹è½½åˆ°æœ¬åœ°ï¼›å¦‚åªæœ‰æœ¬åœ°ä¿®æ”¹ï¼Œåˆ™ä¸Šä¼ åˆ°è¿œç«¯ï¼›å¦‚æœ¬åœ°å’Œè¿œç«¯éƒ½è¢«ä¿®æ”¹ï¼Œåˆ™ä»¥å†²çªè®¾ç½®æ–¹å¼ä¸ºå‡†ã€‚# 0-3æ¨¡å¼ä¸‹ï¼Œç›®çš„ç«¯è‡ªä¸»æ–°å¢žçš„æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤# 4æ¨¡å¼ä¸‹ï¼Œå½“è¿œç«¯ç›®å½•æ›´æ”¹åŽï¼Œè¯·åˆ é™¤æœ¬åœ°åŒæ­¥æ ¹ç›®å½•ä¸‹çš„.syncy.info.dbæ–‡ä»¶ï¼Œå¦åˆ™åœ¨ä¸‹æ¬¡åŒæ­¥æ—¶å°†ä¼šåˆ é™¤æœ¬åœ°çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆç³»ç»Ÿä¼šè®¤ä¸ºè¿œç¨‹æ–‡ä»¶ä¸éœ€è¦è¢«ç”¨æˆ·åˆ é™¤ï¼Œä¹Ÿä¼šåˆ é™¤æœ¬åœ°çš„ç›¸åº”æ–‡ä»¶ï¼‰syncyerrlog=â€# é”™è¯¯æ—¥å¿—æ–‡ä»¶ï¼ˆåŒ…å«è·¯å¾„åï¼‰ï¼Œä¸ºç©ºæ—¶å°†è¾“å‡ºè‡³é”™è¯¯è¾“å‡ºï¼ˆé»˜è®¤å±å¹•ï¼‰# è®¾ç½®å€¼å¿…é¡»æ˜¯æŒ‡å‘æ–‡ä»¶ï¼Œæ–‡ä»¶å¯ä»¥ä¸å­˜åœ¨ï¼ˆä¸å­˜åœ¨æ—¶ç¨‹åºè‡ªåŠ¨åˆ›å»ºï¼‰ï¼Œçˆ¶ç›®å½•å¿…é¡»å­˜åœ¨ï¼Œä¸èƒ½æŒ‡å‘å·²å­˜åœ¨çš„ç›®å½•# ä¾‹ï¼š/mnt/sda1/log/syncyerr.logsyncylog=â€# è¿è¡Œæ—¥å¿—æ–‡ä»¶ï¼ˆåŒ…å«è·¯å¾„åï¼‰ï¼Œä¸ºç©ºæ—¶å°†è¾“å‡ºè‡³æ ‡å‡†è¾“å‡ºï¼ˆé»˜è®¤å±å¹•ï¼‰# è®¾ç½®å€¼å¿…é¡»æ˜¯æŒ‡å‘æ–‡ä»¶ï¼Œæ–‡ä»¶å¯ä»¥ä¸å­˜åœ¨ï¼ˆä¸å­˜åœ¨æ—¶ç¨‹åºè‡ªåŠ¨åˆ›å»ºï¼‰ï¼Œçˆ¶ç›®å½•å¿…é¡»å­˜åœ¨ï¼Œä¸èƒ½æŒ‡å‘å·²å­˜åœ¨çš„ç›®å½•# ä¾‹ï¼š/mnt/sda1/log/syncy.logblocksize=â€™10â€™# åˆ†ç‰‡ä¸Šä¼ å—å¤§å°# é»˜è®¤å€¼ä¸º 10 (10M)# å•ä½ Mï¼Œæ­¤å¤§å°å†³å®šäº†èƒ½ä¸Šä¼ çš„æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆæ–‡ä»¶æœ€å¤§å¤§å° = blocksize * 1024ï¼‰# åˆ†ç‰‡å¤§å°å¿…é¡»å¤§äºŽç­‰äºŽ1ï¼ˆ1Mï¼‰ondup=â€™renameâ€™# é‡åå¤„ç†æ–¹å¼# é»˜è®¤å€¼ä¸º â€˜renameâ€™# [rename or overwrite]# å­˜åœ¨é‡åæ–‡ä»¶æ—¶æ˜¯è¦†ç›–åŒåæ–‡ä»¶ï¼Œè¿˜æ˜¯é‡å‘½åæ–‡ä»¶# å½“åŒæ­¥æ¨¡å¼ä¸º0ï¼Œé‡å‘½åæ–°æ–‡ä»¶ï¼Œå‘½åè§„åˆ™ä¸ºâ€œæ–‡ä»¶å_æ—¥æœŸ.åŽç¼€â€# åŒæ­¥æ¨¡å¼ä¸º1å’Œ2æ—¶ï¼Œå°†é‡å‘½åæ—§æ–‡ä»¶ï¼Œå‘½åè§„åˆ™ä¸ºâ€œæ–‡ä»¶å_old_æ—¥æœŸ.åŽç¼€â€# åŒæ­¥æ¨¡å¼ä¸º3æ—¶ï¼Œåˆ™ondupåªèƒ½ä¸ºoverwriteï¼Œè®¾ç½®æˆrenameå°†ä¸ç”Ÿæ•ˆdatacache=â€™onâ€™# æ˜¯å¦å¼€å¯ç¼“å­˜# é»˜è®¤å€¼ä¸º â€˜onâ€™# åŒæ­¥ä¿¡æ¯æ•°æ®ç¼“å­˜ï¼Œå¯ç”¨æœ‰åŠ©äºŽæé«˜åŒæ­¥é€Ÿåº¦# è¯·æ ¹æ®ä½ è·¯ç”±å†…å­˜çš„å¤§å°æ¥å†³å®šæ˜¯å¦å¼€å¯excludefiles=â€™*/Thumbs.dbâ€™# æŽ’é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå°†ä¼šåŒæ—¶åº”ç”¨äºŽæœ¬åœ°å’Œè¿œç«¯ï¼Œè¯·åˆç†è®¾ç½®æ­¤å€¼ï¼Œè¿‡å¤šçš„æŽ’é™¤é€‰é¡¹å°†ä¼šé™ä½Žç³»ç»Ÿçš„å¤„ç†é€Ÿåº¦# æœ‰å¤šä¸ªæŽ’é™¤é¡¹æ—¶ç”¨åˆ†å·(;)éš”å¼€# ä¾‹ï¼šâ€™*/Thumbs.db;*/excludefilename.*â€™# é»˜è®¤æŽ’é™¤ä»¥â€œ.tmp.syyâ€ç»“å°¾çš„æ–‡ä»¶ï¼Œæ­¤ç±»åž‹æ–‡ä»¶ç”¨äºŽè®°å½•åˆ†ç‰‡ä¸Šä¼ æˆ–æ–­ç‚¹ä¸‹è½½ä¿¡æ¯ï¼Œä¸Šä¼ æˆ–ä¸‹è½½å®ŒæˆåŽå°†è‡ªåŠ¨åˆ é™¤ï¼Œå¦‚åŽŸæ–‡ä»¶è¢«æ‰‹åŠ¨ä¿®æ”¹ï¼Œå»ºè®®åŒæ—¶åˆ é™¤æ­¤æ–‡ä»¶# åªæ”¯æŒé€šé…ç¬¦*? (*ä»£è¡¨é›¶ä¸ªæˆ–æ›´å¤šä¸ªä»»æ„å­—ç¬¦ï¼Œ?ä»£è¡¨é›¶ä¸ªæˆ–ä¸€ä¸ªå­—ç¬¦)listnumber=â€™100â€²# æ¯æ¬¡æ£€æŸ¥èŽ·å–è¿œç¨‹çš„æ–‡ä»¶æ•°# é»˜è®¤å€¼ä¸º 100# åŒæ­¥æ—¶æ¯æ¬¡èŽ·å–çš„è¿œç«¯æ–‡ä»¶åˆ—è¡¨æ•°é‡ï¼Œæ•°é‡è¿‡å¤§æ—¶è¿”å›žçš„å­—ç¬¦ä¸²é•¿åº¦å¾ˆå¤§ï¼Œå°†å ç”¨æ›´å¤šçš„å†…å­˜# è·¯å¾„é•¿åº¦è¾ƒé•¿æ—¶ä¹Ÿåº”é€‚å½“ç¼©å°æ­¤å€¼retrytimes=â€™3â€²#å¤±è´¥é‡è¯•æ¬¡æ•°ï¼ˆå‘ç”Ÿé”™è¯¯æ—¶çš„é‡è¯•æ¬¡æ•°ï¼‰# é»˜è®¤å€¼ 3 æ¬¡retrydelay=â€™3â€²# é‡è¯•å»¶æ—¶æ—¶é—´ï¼ˆç§’ï¼‰# é»˜è®¤å€¼ä¸º 3 ç§’maxsendspeed=â€™0â€²# æœ€å¤§ä¸Šä¼ é€Ÿåº¦ï¼ˆå­—èŠ‚/ç§’ï¼‰# é»˜è®¤å€¼ä¸º 0(ä¸é™é€Ÿ)maxrecvspeed=â€™0â€²# æœ€å¤§ä¸‹è½½é€Ÿåº¦ï¼ˆå­—èŠ‚/ç§’ï¼‰# é»˜è®¤å€¼ä¸º 0(ä¸é™é€Ÿ)syncperiod=â€™0-24â€²# è¿è¡Œæ—¶é—´æ®µ# é»˜è®¤å€¼ä¸º â€˜0-24â€²# è¿è¡Œæ—¶é—´æ®µï¼ˆå°æ—¶ï¼‰# åˆ¤æ–­è§„åˆ™ä¸º[0,24)å³åŒ…å«è®¾å®šçš„å¼€å§‹æ—¶é—´æˆªæ­¢äºŽè®¾å®šçš„ç»“æŸæ—¶é—´# å¦‚æƒ³ä»Žé›¶ç‚¹è‡³6ç‚¹ä¹‹é—´æ‰å…è®¸è¿è¡Œï¼Œåº”è®¾ç½®ä¸ºâ€™0-6â€™ï¼Œå¦‚24å°æ—¶éƒ½è¿è¡Œï¼Œåˆ™è®¾ç½®ä¸ºâ€™0-24â€™# å¦‚æžœå½“å‰æ—¶é—´ä¸åœ¨è®¾å®šèŒƒå›´å†…ï¼Œå°†æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼Œå¦‚æžœè®¾ä¸ºç©ºï¼Œåˆ™åªè¿è¡Œä¸€æ¬¡åŽé€€å‡ºsyncinterval=â€™3600â€²# åŒæ­¥é—´éš”æ—¶é—´# é»˜è®¤å€¼ä¸º 3600(1å°æ—¶)# æ¯æ¬¡åŒæ­¥å®Œæˆä¹‹åŽä¸Žä¸‹ä¸€æ¬¡å¼€å§‹åŒæ­¥çš„é—´éš”æ—¶é—´# å•ä½ï¼šç§’]]></content>
      <tags>
        <tag>tech</tag>
        <tag>SyncY</tag>
        <tag>NAS</tag>
        <tag>docker</tag>
        <tag>ç™¾åº¦äº‘</tag>
        <tag>ç¾¤æ™–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Use Slack App to Issue Thunder Remote Download Task]]></title>
    <url>%2F2016%2F11%2F25%2Fslack-thunder%2F</url>
    <content type="text"><![CDATA[This article involves a product within China - Thunder Remote Download. So will be in Chinese. ä½¿ç”¨Slackä¸‹è¾¾è¿…é›·è¿œç¨‹ä¸‹è½½æŒ‡ä»¤ç®€ä»‹è¿™æ˜¯ä¸€ä¸ªç”¨slackèŠå¤©ç•Œé¢ä¸‹è¾¾è¿…é›·è¿œç¨‹ä¸‹è½½æŒ‡ä»¤çš„ç¨‹åºã€‚ éƒ¨ç½²å‡†å¤‡ ä¸€å°èƒ½å¤Ÿè¿žæŽ¥è¿…é›·æœåŠ¡å™¨å’ŒslackæœåŠ¡å™¨çš„æœºå™¨ï¼Œä¾‹å¦‚ï¼šNASï¼ŒVPSã€‚èƒ½è¿è¡ŒPythonçš„è·¯ç”±ä¹Ÿè¡Œã€‚ dockerçŽ¯å¢ƒå‡†å¤‡ã€‚æœ¬æ–‡å°†ä»‹ç»ä»¥dockeræ–¹å¼éƒ¨ç½²ï¼Œè£¸æœºå®‰è£…æ–¹å¼è‡ªè¡Œç ”ç©¶ã€‚ è¿…é›·å¸å·ã€‚ slackå¸å·ä»¥åŠApp token. ä¸ªäººç”¨æˆ·èŽ·å¾—tokenæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”Ÿæˆtest tokenï¼Œ å‰å¾€æ­¤å¤„ç”Ÿæˆhttps://api.slack.com/docs/oauth-test-tokens éƒ¨ç½² docker pull killingjacky/slackthunder å‡†å¤‡å®¿ä¸»æœºç›®å½•å’Œé…ç½®æ–‡ä»¶mkdir slackthundercd slackthunderwget -O config.py https://raw.githubusercontent.com/KillingJacky/SlackThunder/master/config.default.py# edit config.pymkdir vcode docker run â€“name slackthunder -v `pwd`/config.py:/app/config.py:ro -v `pwd`/vcode:/app/vcode â€“env SLACK_TOKEN=â€™your-token-hereâ€™ -d killingjacky/slackthunder docker logs -f slackthunder ç¡®è®¤è¿…é›·ç™»é™†æˆåŠŸï¼ˆæœ‰æ—¶éœ€è¦å¡«å†™éªŒè¯ç ï¼‰ï¼Œç¡®è®¤slack connectedï¼ˆæœ‰æ—¶ä¼šè¿žä¸ä¸Šï¼‰ã€‚ ä½¿ç”¨å‘½ä»¤è¡Œè¿›å…¥ç›¸åº”çš„channelï¼Œé»˜è®¤é…ç½®ä¸º#thunderï¼š login logout listdev - list the downloader devices select {index} - select the downloader adddir {dir} - add a download target dir listdir - list all the saved target dirs rmdir {dir} - remove a preset download target dir cleardir - clear all the saved target dirs {url} - download into the default target dir (configured on yc.xunlei.com) {url} {index} - download into the index selected target dir info or list - list the downloading status listfini - list the finished tasks (recent 10) rmtask {index} - stop the index selected task and trash it ping - test if the slack script is working æ‰‹æœºAppä»¥iOSä¸ºä¾‹ï¼Œåœ¨safariä¸­é•¿æŒ‰é“¾æŽ¥ï¼ˆç£åŠ›é“¾ï¼Œæ™®é€šä¸‹è½½é“¾ç­‰ï¼‰-&gt; åˆ†äº« -&gt; é€‰æ‹©Slack -&gt; é€‰æ‹©ç›¸åº”çš„channel -&gt; å‘é€ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å†™è¿™ä¸ªå°ç¨‹åºçš„æœ€åˆéœ€æ±‚å‡ºå‘ç‚¹ï¼ˆè¿…é›·è¿œç¨‹ç½‘ç«™æ— æ‰‹æœºç‰ˆï¼Œå¤åˆ¶ç²˜è´´é“¾æŽ¥éžå¸¸éº»çƒ¦ï¼‰ã€‚ åè®®/å£°æ˜Žæœ¬ç¨‹åºè¿…é›·è¿œç¨‹åè®®å‚è€ƒhttps://github.com/iambus/xunlei-lixian é¸£è°¢ï¼Œå¹¶è·ŸéšMITåè®®ã€‚ Github: https://github.com/KillingJacky/SlackThunder è‹¥æŸå…¬å¸è®¤ä¸ºæˆ‘ä¸åº”å…¬å¼€å…¶APIï¼ˆæŠ“åŒ…æ‰€å¾—ï¼‰ï¼Œè¯·è”ç³»æˆ‘ã€‚]]></content>
      <tags>
        <tag>tech</tag>
        <tag>slack</tag>
        <tag>thunder api</tag>
        <tag>è¿…é›·è¿œç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Arm the Xiaomi R1D router into a NAS,Remote Downloader,BaiduCloud Syncer]]></title>
    <url>%2F2016%2F01%2F04%2Fxiaomi-router-as-nas%2F</url>
    <content type="text"><![CDATA[Xiaomi R1D router is a high performance Broadcom BCM4709 based router with builtin 1TB SATA HDD storage. The hardware of it is really royal except the software. After a painful struggle on the stock firmware of R1D, I decide to give up the kitchen sicker stock firmware. The stuff we can play with R1D are: Flash the Tomato firmware (alternative advanced tomato with better UI) Builtin NAS support of tomato with services: USB storage, FTP, samba, DLNA Remote access with DDNS support Remote offline downloader - Xware downloader from thunder (è¿…é›·) Sync files with Baidu cloud storage - syncy.py And the released opkg capability of openwrt system for unlimited hacking The guide can be easily searched with google. Now Iâ€™m very satisfied with the advanced tomato system, thanks to the developers of tomato and advanced tomato system!]]></content>
      <tags>
        <tag>tech</tag>
        <tag>openwrt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pitch: enable Pebble Time geo ablility getting rid of a phone]]></title>
    <url>%2F2015%2F08%2F17%2Fpebble-geo%2F</url>
    <content type="text"><![CDATA[Pebble is the most popular smart watch with a strong ability in battery life and expanding its functionality. To gain good battery life, it was designed to have no onboard/native GPS device. People must have their phone carried along to enable it using geo information. But what if people just dont wanna carry the heavy phone when they run? Or what if have no pocket to put the phone in when they do cycling? Now Pebble Time brings us a new possibility to super extend its functionality - the smartstrap interface. With this interface, we have designed some gadgets to connect Xadow with pebble. With Xadow, pebble pluses the wings of more sensors and wearable modules and is unlocked the limitation of the box. Tinkers and makers will have their unique Pebble+ with some interesting hacking. That will be fun. Letâ€™s have a pitch :D Geo information with Xadow-GPS: (please forget about the wires and the clip :D ) The smartstrap main board is also open for programming. After a few steps of workaround (soldering 4 wires to the SWD interface or the USB interface), one can program it with mbed libraries. Thatâ€™s easy enough. And with the communication protocol in pebble SDK, pebble app designers can easily read the sensors like this: 1234567891011121314151617181920212223242526272829static void extract_data_from_stream(uint8_t req, uint8_t *buff, int len)&#123; switch(req) &#123; case GET_VBAT: &#123; if (len &gt;= 4) memcpy(&amp;vbat, buff, 4); break; &#125; case GET_GPS: &#123; if(len &gt;= 18) &#123; memcpy(&amp;lat, buff, 4); buff+=4; memcpy(&amp;lon, buff, 4); buff+=4; memcpy(&amp;velocity, buff, 4); buff+=4; memcpy(&amp;alt, buff, 4); buff+=4; memcpy(&amp;fix, buff, 1); buff+=1; memcpy(&amp;sat, buff, 1); &#125; break; &#125; ... default: break; &#125;&#125; Thatâ€™s where we get now. How do you think? Always prefer feedbacks and åæ§½s. Click here to view the projectâ€™s landing page.]]></content>
      <tags>
        <tag>tech</tag>
        <tag>pebble</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Automatic sun shade for home]]></title>
    <url>%2F2015%2F08%2F14%2FAutomatic-sun-shade-for-home%2F</url>
    <content type="text"><![CDATA[This is a kind of motor driven sun shade, DIYed for the sun shine block for the balcony of my home, controlled by IR remote. Thereâ€™re some kind of sun shade controller in the market, but they are expensive and take too much space of home. So what I made is a cheap and home-brew sun shade driver and controller with most of the materials handy to get. For details, please move on to seeedstudioâ€™s recipe site. I just posted it there: http://www.seeedstudio.com/recipe/183-automatic-sun-shade-for-home.html]]></content>
      <tags>
        <tag>tech</tag>
      </tags>
  </entry>
</search>
